# 评论和留言系统使用指南

## 🎯 功能概述

本系统已经优化了评论和留言功能，支持基本的评论和回复操作。

## 📝 文章评论系统

### 功能特点
- ✅ 任何人都可以对文章进行评论
- ✅ 支持对评论进行回复
- ✅ 评论计数器实时更新
- ✅ 未登录用户会被引导到登录页面
- ✅ 回复时会显示被回复人的昵称
- ✅ 支持分页显示评论

### 使用方法
1. 在文章详情页面底部找到评论区
2. 登录后可以直接发表评论
3. 点击"回复"按钮可以回复其他用户的评论
4. 评论数量会实时更新显示

## 💬 留言板系统

### 功能特点
- ✅ 任何人都可以发表留言
- ✅ 支持对留言进行回复
- ✅ 登录用户自动填充昵称和邮箱
- ✅ 未登录用户需要手动输入昵称和邮箱
- ✅ 回复功能支持嵌套显示
- ✅ 支持分页显示留言

### 使用方法
1. 访问留言板页面
2. 填写留言内容（登录用户会自动填充个人信息）
3. 点击"回复"按钮可以回复其他用户的留言
4. 留言和回复会按时间顺序显示

## 🔧 技术实现

### API接口
- `GET /api/comment/list` - 获取文章评论列表
- `POST /api/comment` - 发表评论或回复
- `GET /api/message/list` - 获取留言列表
- `POST /api/message` - 发表留言或回复

### 数据结构
评论和回复使用相同的数据结构，通过 `parentId` 字段区分：
- `parentId` 为空：顶级评论/留言
- `parentId` 有值：回复评论/留言

## 🚀 使用步骤

1. **启动开发服务器**
   ```bash
   cd frontend/blog
   npm run serve
   ```

2. **访问页面**
   - 文章评论：访问任意文章详情页
   - 留言功能：访问 `/message` 页面

3. **测试功能**
   - 尝试发表评论/留言
   - 尝试回复其他用户
   - 测试登录和未登录状态的不同体验

## ⚠️ 注意事项

1. **后端依赖**
   - 确保后端服务正常运行
   - 评论和留言功能需要对应的后端API支持

2. **用户体验**
   - 未登录用户需要填写昵称和邮箱
   - 登录用户会自动填充个人信息
   - 回复功能会显示被回复人的信息

3. **数据验证**
   - 评论/留言内容长度限制：5-500字符
   - 昵称长度限制：2-20字符
   - 邮箱格式验证

## 🐛 故障排除

如果遇到问题，请检查：
1. 后端服务是否正常运行
2. 网络连接是否正常
3. 浏览器控制台是否有错误信息
4. API接口是否返回正确的数据格式

## 📞 技术支持

如需技术支持，请查看：
- 浏览器开发者工具的控制台输出
- 网络请求的响应状态
- 后端服务的日志信息