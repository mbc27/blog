{"version":3,"file":"js/9.0286d1be.js","mappings":"6JAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,UAAU,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,SAASC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,KAAK,CAACF,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,QAAQC,UAAUR,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,OAAO,CAACE,YAAY,UAAU,CAACJ,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIS,QAAQE,YAAc,SAAST,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACJ,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIY,WAAWZ,EAAIS,QAAQI,gBAAgBX,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIS,QAAQK,cAAcZ,EAAG,OAAO,CAACE,YAAY,SAAS,CAACJ,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIS,QAAQM,cAAcb,EAAG,OAAO,CAACE,YAAY,SAASY,MAAMhB,EAAIiB,eAAejB,EAAIS,QAAQS,SAAS,CAAClB,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAImB,cAAcnB,EAAIS,QAAQS,SAAS,SAAUlB,EAAIoB,SAAkC,IAAvBpB,EAAIS,QAAQS,OAAchB,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAASgB,GAAG,CAAC,MAAQrB,EAAIsB,iBAAiB,CAACtB,EAAIO,GAAG,UAAUL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,SAASgB,GAAG,CAAC,MAAQrB,EAAIuB,gBAAgB,CAACvB,EAAIO,GAAG,WAAW,GAAGP,EAAIwB,MAAMxB,EAAIyB,UAAoC,IAAvBzB,EAAIS,QAAQS,QAAuC,IAAvBlB,EAAIS,QAAQS,OAAoKlB,EAAIwB,KAAzJtB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,SAASgB,GAAG,CAAC,MAAQrB,EAAI0B,cAAc,CAAC1B,EAAIO,GAAG,WAAW,KAAcL,EAAG,MAAM,CAACE,YAAY,kBAAkBuB,SAAS,CAAC,UAAY3B,EAAIQ,GAAGR,EAAIS,QAAQmB,YAAY1B,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAOL,EAAI6B,QAAU,UAAY,UAAU,KAAO7B,EAAI6B,QAAU,kBAAoB,gBAAgB,QAAU7B,EAAI8B,QAAQT,GAAG,CAAC,MAAQrB,EAAI+B,aAAa,CAAC/B,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAI6B,QAAU,MAAQ,MAAM,IAAI7B,EAAIQ,GAAGR,EAAIS,QAAQM,WAAW,OAAQf,EAAIS,QAAQuB,MAAQhC,EAAIS,QAAQuB,KAAKC,OAAQ/B,EAAG,MAAM,CAACE,YAAY,QAAQJ,EAAIkC,GAAIlC,EAAIS,QAAQuB,KAAM,SAASG,GAAK,OAAOjC,EAAG,SAAS,CAACkC,IAAID,EAAIE,GAAGhC,MAAM,CAAC,KAAO8B,EAAIG,OAAS,OAAO,KAAO,UAAU,CAACtC,EAAIO,GAAG,IAAIP,EAAIQ,GAAG2B,EAAII,MAAM,MAAM,GAAG,GAAGvC,EAAIwB,MAAM,KAAMxB,EAAIS,QAAQ4B,GAAInC,EAAG,UAAU,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkBC,MAAM,CAAC,KAAO,UAAUC,KAAK,UAAU,CAACJ,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,OAAO,CAACF,EAAIO,GAAG,OAAOP,EAAIQ,GAAGR,EAAIwC,cAAc,SAAUxC,EAAIwC,aAAe,EAAGtC,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,QAAU,OAAO,UAAY,QAAQ,CAACH,EAAG,IAAI,CAACE,YAAY,mBAAmBF,EAAG,OAAO,CAACF,EAAIO,GAAG,gBAAgB,GAAGP,EAAIwB,OAAOtB,EAAG,kBAAkB,CAACG,MAAM,CAAC,aAAaL,EAAIS,QAAQ4B,IAAIhB,GAAG,CAAC,wBAAwBrB,EAAIyC,uBAAuB,GAAGzC,EAAIwB,MAAM,EACjkF,EACIkB,EAAkB,G,sBCFlB3C,G,+DAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAAEJ,EAAI2C,gBAAiBzC,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,IAAML,EAAI4C,KAAKC,QAAU7C,EAAI8C,cAAc,KAAO,WAAW5C,EAAG,OAAO,CAACE,YAAY,YAAY,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAI4C,KAAKG,UAAY,SAAS,GAAG7C,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBF,EAAG,OAAO,CAACF,EAAIO,GAAG,mBAAmBL,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,WAAW,CAACE,YAAY,mBAAmBC,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAcL,EAAI2C,gBAAkB,WAAa,WAAW,UAAY3C,EAAI2C,iBAAiBK,MAAM,CAACC,MAAOjD,EAAIkD,WAAYC,SAAS,SAAUC,GAAMpD,EAAIkD,WAAWE,CAAG,EAAEC,WAAW,gBAAgBnD,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,OAAO,UAAYL,EAAI2C,iBAAiBtB,GAAG,CAAC,MAAQrB,EAAIsD,mBAAmB,CAACpD,EAAG,IAAI,CAACE,YAAY,kBAAkBJ,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACqD,WAAW,CAAC,CAAChB,KAAK,OAAOiB,QAAQ,SAASP,MAAOjD,EAAIyD,gBAAiBJ,WAAW,oBAAoBjD,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoBJ,EAAIkC,GAAIlC,EAAI0D,gBAAiB,SAASC,EAASC,GAAO,OAAO1D,EAAG,OAAO,CAACkC,IAAIwB,EAAM5C,MAAM,CAAC,iBAAkB,CAAE6C,OAAQ7D,EAAI8D,uBAAyBF,IAASvC,GAAG,CAAC,MAAQ,SAAS0C,GAAQ/D,EAAI8D,qBAAuBF,CAAK,IAAI,CAAC5D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGmD,EAASK,MAAM,MAAM,GAAG,GAAG9D,EAAG,MAAM,CAACE,YAAY,cAAcJ,EAAIkC,GAAIlC,EAAIiE,sBAAuB,SAASC,GAAO,OAAOhE,EAAG,OAAO,CAACkC,IAAI8B,EAAM9D,YAAY,aAAaiB,GAAG,CAAC,MAAQ,SAAS0C,GAAQ,OAAO/D,EAAImE,YAAYD,EAAM,IAAI,CAAClE,EAAIO,GAAG,IAAIP,EAAIQ,GAAG0D,GAAO,MAAM,GAAG,QAAQ,GAAGhE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAAEJ,EAAI2C,gBAAiBzC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,QAAUL,EAAIoE,WAAW,KAAO,uBAAuB/C,GAAG,CAAC,MAAQrB,EAAIqE,gBAAgB,CAACrE,EAAIO,GAAG,YAAYL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,KAAO,gBAAgBgB,GAAG,CAAC,MAAQrB,EAAIsE,YAAY,CAACtE,EAAIO,GAAG,cAAc,MAAM,KAAMP,EAAIuE,SAAStC,OAAQ/B,EAAG,MAAM,CAACE,YAAY,gBAAgBJ,EAAIkC,GAAIlC,EAAIuE,SAAU,SAASC,GAAS,OAAOtE,EAAG,MAAM,CAACkC,IAAIoC,EAAQnC,GAAGjC,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,IAAMmE,EAAQ3B,QAAU7C,EAAI8C,cAAc,KAAO,WAAW5C,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGgE,EAAQzB,aAAa7C,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIyE,WAAWD,EAAQ3D,iBAAiB,GAAGX,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGgE,EAAQ5C,YAAY1B,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,KAAO,0BAA0BgB,GAAG,CAAC,MAAQ,SAAS0C,GAAQ,OAAO/D,EAAI0E,iBAAiBF,EAAQnC,GAAG,IAAI,CAACrC,EAAIO,GAAG,QAAQP,EAAIQ,GAAGgE,EAAQG,YAAc,GAAG,QAAQzE,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkBJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGgE,EAAQzD,WAAa,GAAG,QAAQ,GAAIf,EAAI4E,aAAeJ,EAAQnC,GAAInC,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACE,YAAY,iBAAiBC,MAAM,CAAC,KAAO,WAAW,KAAO,EAAE,YAAa,OAAAwE,OAAQL,EAAQzB,WAAYC,MAAM,CAACC,MAAOjD,EAAI8E,aAAc3B,SAAS,SAAUC,GAAMpD,EAAI8E,aAAa1B,CAAG,EAAEC,WAAW,kBAAkBnD,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,YAAY,CAACE,YAAY,eAAeC,MAAM,CAAC,KAAO,QAAQgB,GAAG,CAAC,MAAQrB,EAAI+E,wBAAwB,CAAC7E,EAAG,IAAI,CAACE,YAAY,kBAAkBJ,EAAIO,GAAG,UAAUL,EAAG,MAAM,CAACqD,WAAW,CAAC,CAAChB,KAAK,OAAOiB,QAAQ,SAASP,MAAOjD,EAAIgF,qBAAsB3B,WAAW,yBAAyBjD,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoBJ,EAAIkC,GAAIlC,EAAI0D,gBAAiB,SAASC,EAASC,GAAO,OAAO1D,EAAG,OAAO,CAACkC,IAAIwB,EAAM5C,MAAM,CAAC,iBAAkB,CAAE6C,OAAQ7D,EAAI8D,uBAAyBF,IAASvC,GAAG,CAAC,MAAQ,SAAS0C,GAAQ/D,EAAI8D,qBAAuBF,CAAK,IAAI,CAAC5D,EAAIO,GAAG,IAAIP,EAAIQ,GAAGmD,EAASK,MAAM,MAAM,GAAG,GAAG9D,EAAG,MAAM,CAACE,YAAY,cAAcJ,EAAIkC,GAAIlC,EAAIiE,sBAAuB,SAASC,GAAO,OAAOhE,EAAG,OAAO,CAACkC,IAAI8B,EAAM9D,YAAY,aAAaiB,GAAG,CAAC,MAAQ,SAAS0C,GAAQ,OAAO/D,EAAIiF,iBAAiBf,EAAM,IAAI,CAAClE,EAAIO,GAAG,IAAIP,EAAIQ,GAAG0D,GAAO,MAAM,GAAG,QAAQ,GAAGhE,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,iBAAiBgB,GAAG,CAAC,MAAQrB,EAAIkF,cAAc,CAAClF,EAAIO,GAAG,QAAQL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,OAAO,QAAUL,EAAImF,gBAAgB,KAAO,uBAAuB9D,GAAG,CAAC,MAAQ,SAAS0C,GAAQ,OAAO/D,EAAIoF,YAAYZ,EAAQ,IAAI,CAACxE,EAAIO,GAAG,WAAW,MAAM,GAAGP,EAAIwB,KAAMgD,EAAQa,UAAYb,EAAQa,SAASpD,OAAQ/B,EAAG,MAAM,CAACE,YAAY,kBAAkBJ,EAAIkC,GAAIsC,EAAQa,SAAU,SAASC,GAAO,OAAOpF,EAAG,MAAM,CAACkC,IAAIkD,EAAMjD,GAAGjC,YAAY,sBAAsB,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,IAAMiF,EAAMzC,QAAU7C,EAAI8C,cAAc,KAAO,WAAW5C,EAAG,OAAO,CAACE,YAAY,kBAAkB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAG8E,EAAMvC,aAAcuC,EAAMC,gBAAiBrF,EAAG,OAAO,CAACE,YAAY,YAAY,CAACJ,EAAIO,GAAG,QAAQP,EAAIQ,GAAG8E,EAAMC,iBAAiB,OAAOvF,EAAIwB,KAAKtB,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIyE,WAAWa,EAAMzE,iBAAiB,GAAGX,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACJ,EAAIO,GAAGP,EAAIQ,GAAG8E,EAAM1D,YAAY1B,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,OAAO,KAAO,0BAA0BgB,GAAG,CAAC,MAAQ,SAAS0C,GAAQ,OAAO/D,EAAIwF,aAAahB,EAASc,EAAM,IAAI,CAACtF,EAAIO,GAAG,UAAUL,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACF,EAAG,IAAI,CAACE,YAAY,kBAAkBJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAG8E,EAAMvE,WAAa,GAAG,QAAQ,IAAI,GAAG,GAAGf,EAAIwB,MAAM,GAAG,GAAGtB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,IAAI,CAACE,YAAY,4CAA4CF,EAAG,IAAI,CAACF,EAAIO,GAAG,sBAAuBP,EAAI2C,gBAAiBzC,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,MAAQ,IAAIgB,GAAG,CAAC,MAAQrB,EAAIyF,oBAAoB,CAACzF,EAAIO,GAAG,cAAcL,EAAG,YAAY,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,QAAQ,MAAQ,IAAIgB,GAAG,CAAC,MAAQrB,EAAIsE,YAAY,CAACtE,EAAIO,GAAG,cAAc,GAAIP,EAAI0F,WAAWC,MAAQ3F,EAAI0F,WAAWE,KAAM1F,EAAG,gBAAgB,CAACE,YAAY,aAAaC,MAAM,CAAC,eAAeL,EAAI0F,WAAWG,QAAQ,aAAa,CAAC,EAAG,GAAI,GAAI,IAAI,YAAY7F,EAAI0F,WAAWE,KAAK,OAAS,0CAA0C,MAAQ5F,EAAI0F,WAAWC,OAAOtE,GAAG,CAAC,cAAcrB,EAAI8F,iBAAiB,iBAAiB9F,EAAI+F,uBAAuB/F,EAAIwB,MAAM,EACz+M,GACIkB,EAAkB,G,yGCwPtB,SACAH,KAAA,iBACAyD,MAAA,CACAC,UAAA,CACAC,KAAA,CAAAC,OAAAC,QACAC,UAAA,IAGAC,KAAA,WACA,OACA/B,SAAA,GACArB,WAAA,GACAkB,YAAA,EACAQ,WAAA,KACAE,aAAA,GACAK,iBAAA,EACArC,cAAA,sEACA4C,WAAA,CACAG,QAAA,EACAD,KAAA,GACAD,MAAA,GAEAlC,iBAAA,EACAuB,sBAAA,EACAlB,qBAAA,EACAJ,gBAAA,CACA,CAAAnB,KAAA,KAAAyB,KAAA,KAAAuC,OAAA,8JACA,CAAAhE,KAAA,KAAAyB,KAAA,KAAAuC,OAAA,gIACA,CAAAhE,KAAA,KAAAyB,KAAA,KAAAuC,OAAA,8JACA,CAAAhE,KAAA,KAAAyB,KAAA,KAAAuC,OAAA,+JACA,CAAAhE,KAAA,KAAAyB,KAAA,KAAAuC,OAAA,+JAGA,EACAC,UAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,IACAC,EAAAA,EAAAA,IAAA,iCACAzC,sBAAA,WACA,YAAAH,sBAAA,QAAAA,qBAAA,KAAAJ,gBAAAzB,OACA,KAAAyB,gBAAA,KAAAI,sBAAAyC,OAEA,EACA,IAEAI,MAAA,CACAV,UAAA,CACAW,WAAA,EACAC,QAAA,WACA,KAAAZ,WACA,KAAAa,aAEA,IAGAC,QAAA,CACAtB,kBAAA,eAAAuB,EAAA,KACA,KAAAC,UAAA,WACA,IAAAC,EAAAF,EAAAG,IAAAC,cAAA,8BACAF,GACAA,EAAAG,OAEA,EACA,EAEA/D,iBAAA,eAAAgE,EAAA,KACA,KAAA7D,iBAAA,KAAAA,gBAEA,KAAAA,kBACA,KAAAuB,sBAAA,GAGA,KAAAvB,iBACA,KAAAwD,UAAA,WACA,IAAAM,EAAA,SAAAC,GACAF,EAAAH,IAAAC,cAAA,iBAAAK,SAAAD,EAAAE,UACAJ,EAAA7D,iBAAA,EACAkE,SAAAC,oBAAA,QAAAL,GAEA,EACAM,WAAA,WACAF,SAAAG,iBAAA,QAAAP,EACA,MACA,EAEA,EAEAxC,sBAAA,eAAAgD,EAAA,KACA,KAAA/C,sBAAA,KAAAA,qBAEA,KAAAA,uBACA,KAAAvB,iBAAA,GAGA,KAAAuB,sBACA,KAAAiC,UAAA,WACA,IAAAM,EAAA,SAAAC,GACA,IAAAQ,EAAAD,EAAAZ,IAAAC,cAAA,8BACAY,IAAAA,EAAAP,SAAAD,EAAAE,UACAK,EAAA/C,sBAAA,EACA2C,SAAAC,oBAAA,QAAAL,GAEA,EACAM,WAAA,WACAF,SAAAG,iBAAA,QAAAP,EACA,MACA,EAEA,EAEApD,YAAA,SAAAD,GACA,KAAAhB,YAAAgB,EACA,KAAAT,iBAAA,CACA,EAEAwB,iBAAA,SAAAf,GACA,KAAAY,cAAAZ,EACA,KAAAc,sBAAA,CACA,EAEA8B,YAAA,eAAAmB,EAAA,YAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAhE,EAAAiE,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,EAAA,SAAAC,GAAA,eAAAA,EAAAC,EAAAD,EAAAE,GAAA,OAKA,OALAF,EAAAC,EAAA,EAEAL,EAAA,CACAzC,QAAAoC,EAAAvC,WAAAG,QACAD,KAAAqC,EAAAvC,WAAAE,MACA8C,EAAAE,EAAA,EACAC,EAAAA,EAAArE,QAAAsE,aAAAb,EAAAhC,UAAAqC,GAAA,OAAAC,EAAAG,EAAAK,EACA,MAAAR,EAAAS,OACAzE,EAAAgE,EAAAjC,KAAA2C,SAAA,GAGAhB,EAAA1D,SAAAA,EACA2E,OAAA,SAAA1E,GAAA,WAAAA,EAAA2E,QAAA3E,EAAA4E,QAAA,GACAC,IAAA,SAAA7E,GACA,OAAAiC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACAjC,GAAA,IACAzB,SAAAyB,EAAA5B,KAAA4B,EAAA5B,KAAAG,SAAAyB,EAAAzB,UAAA,OACAF,OAAA2B,EAAA5B,KAAA4B,EAAA5B,KAAAC,OAAA2B,EAAA3B,QAAAoF,EAAAnF,cACA6B,WAAAH,EAAAa,SAAAb,EAAAa,SAAApD,OAAA,EACAlB,UAAAyD,EAAAzD,WAAA,EACAc,QAAA2C,EAAA3C,UAAA,EACAwD,UAAAb,EAAAa,UAAA,IAAAgE,IAAA,SAAA/D,GACA,OAAAmB,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACAnB,GAAA,IACAvC,SAAAuC,EAAA1C,KAAA0C,EAAA1C,KAAAG,SAAAuC,EAAAvC,UAAA,OACAF,OAAAyC,EAAA1C,KAAA0C,EAAA1C,KAAAC,OAAAyC,EAAAzC,QAAAoF,EAAAnF,cACAyC,gBAAAD,EAAAgE,YAAAhE,EAAAgE,YAAAvG,SAAAuC,EAAAC,gBACAxE,UAAAuE,EAAAvE,WAAA,EACAc,QAAAyD,EAAAzD,UAAA,GAEA,IAEA,GAEAoG,EAAAvC,WAAAC,MAAA4C,EAAAjC,KAAAX,OAAA,EAEAsC,EAAAsB,MAAA,wBAAAtB,EAAAvC,WAAAC,QACA+C,EAAAE,EAAA,eAAAF,EAAAC,EAAA,EAAAH,EAAAE,EAAAK,EAEAS,QAAAC,MAAA,UAAAjB,GACAP,EAAA1D,SAAA,GACA0D,EAAAvC,WAAAC,MAAA,gBAAA+C,EAAAgB,EAAA,KAAArB,EAAA,gBAzCAH,EA2CA,EAEA7D,cAAA,eAAAsF,EAAA,YAAAzB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAwB,IAAA,IAAAC,EAAAtB,EAAAuB,EAAA,OAAA3B,EAAAA,EAAAA,KAAAM,EAAA,SAAAsB,GAAA,eAAAA,EAAApB,EAAAoB,EAAAnB,GAAA,UACAe,EAAAhH,gBAAA,CAAAoH,EAAAnB,EAAA,QACA,OAAAe,EAAArF,YAAAyF,EAAAL,EAAA,aAIAC,EAAAzG,WAAA8G,OAAA,CAAAD,EAAAnB,EAAA,QACA,OAAAe,EAAAM,SAAAC,QAAA,YAAAH,EAAAL,EAAA,UASA,OALAC,EAAAvF,YAAA,EAAA2F,EAAApB,EAAA,EAEAkB,EAAA,CACA5D,UAAA0D,EAAA1D,UACArE,QAAA+H,EAAAzG,WAAA8G,QACAD,EAAAnB,EAAA,EACAC,EAAAA,EAAArE,QAAA2F,IAAAN,GAAA,OAAAtB,EAAAwB,EAAAhB,EACA,MAAAR,EAAAS,OACAW,EAAAM,SAAAG,QAAA,UACAT,EAAAzG,WAAA,GACAyG,EAAA7C,eACAiD,EAAAnB,EAAA,eAAAmB,EAAApB,EAAA,EAAAmB,EAAAC,EAAAhB,EAEAS,QAAAC,MAAA,UAAAK,GACAH,EAAAM,SAAAR,MAAA,iBAEA,OAFAM,EAAApB,EAAA,EAEAgB,EAAAvF,YAAA,EAAA2F,EAAAM,EAAA,iBAAAN,EAAAL,EAAA,KAAAE,EAAA,oBA3BA1B,EA6BA,EAEAxD,iBAAA,SAAA4F,GACA,KAAA3H,gBAKA,KAAAiC,aAAA0F,EACA,KAAApF,eAEA,KAAAN,WAAA0F,EACA,KAAAxF,aAAA,IARA,KAAAR,WAUA,EAEAc,YAAA,SAAAmF,GAAA,IAAAC,EAAA,YAAAtC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAqC,IAAA,IAAAC,EAAAnC,EAAAoC,EAAA,OAAAxC,EAAAA,EAAAA,KAAAM,EAAA,SAAAmC,GAAA,eAAAA,EAAAjC,EAAAiC,EAAAhC,GAAA,UACA4B,EAAA1F,aAAAkF,OAAA,CAAAY,EAAAhC,EAAA,QACA,OAAA4B,EAAAP,SAAAC,QAAA,YAAAU,EAAAlB,EAAA,UAYA,OARAc,EAAArF,iBAAA,EAAAyF,EAAAjC,EAAA,EAEA+B,EAAA,CACAzE,UAAAuE,EAAAvE,UACAmD,SAAAmB,EAAAlI,GACAT,QAAA4I,EAAA1F,aAAAkF,OACAa,SAAAN,EAAAO,OACA3B,MAAA,GACAyB,EAAAhC,EAAA,EACAC,EAAAA,EAAArE,QAAA2F,IAAAO,GAAA,OAAAnC,EAAAqC,EAAA7B,EACA,MAAAR,EAAAS,OACAwB,EAAAP,SAAAG,QAAA,QACAI,EAAAtF,cACAsF,EAAA1D,eACA8D,EAAAhC,EAAA,eAAAgC,EAAAjC,EAAA,EAAAgC,EAAAC,EAAA7B,EAEAS,QAAAC,MAAA,QAAAkB,GACAH,EAAAP,SAAAR,MAAA,eAEA,OAFAmB,EAAAjC,EAAA,EAEA6B,EAAArF,iBAAA,EAAAyF,EAAAP,EAAA,iBAAAO,EAAAlB,EAAA,KAAAe,EAAA,oBAzBAvC,EA2BA,EAEA1C,aAAA,SAAA+E,EAAAQ,GACA,KAAApI,iBAKA,KAAAiC,WAAA2F,EAAAlI,GACA,KAAAyC,aAAA,IAAAD,OAAAkG,EAAAhI,SAAA,MALA,KAAAuB,WAMA,EAEAY,YAAA,WACA,KAAAN,WAAA,KACA,KAAAE,aAAA,EACA,EAGAR,UAAA,WACA,KAAA0G,QAAAC,KAAA,SACA,EAEAxG,WAAA,SAAAyG,GACA,IAAAA,EAAA,SACA,IAAAC,EAAA,IAAAC,KAAAF,GACAG,EAAA,IAAAD,KACAE,EAAAD,EAAAF,EAEA,OAAAG,EAAA,IACA,KACAA,EAAA,KACAC,KAAAC,MAAAF,EAAA,WACAA,EAAA,MACAC,KAAAC,MAAAF,EAAA,YACAA,EAAA,OACAC,KAAAC,MAAAF,EAAA,YAEA,GAAAzG,OAAAsG,EAAAM,cAAA,KAAA5G,OAAAsB,OAAAgF,EAAAO,WAAA,GAAAC,SAAA,YAAA9G,OAAAsB,OAAAgF,EAAAS,WAAAD,SAAA,OAEA,EAEA7F,iBAAA,SAAAF,GACA,KAAAF,WAAAE,KAAAA,EACA,KAAAF,WAAAG,QAAA,EACA,KAAAiB,aACA,EAEAf,oBAAA,SAAAF,GACA,KAAAH,WAAAG,QAAAA,EACA,KAAAiB,aACA,ICvhB6P,I,eCSzP+E,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,QAAeA,E,QCyDf,GACAtJ,KAAA,gBACAuJ,WAAA,CACAC,eAAAA,GAEAzF,KAAA,WACA,OACA7F,QAAA,CACA4B,GAAA,KACA3B,MAAA,GACAkB,QAAA,GACAjB,WAAA,GACAE,WAAA,GACAC,UAAA,EACAC,UAAA,EACAyB,aAAA,EACAR,KAAA,GACAd,OAAA,EACA4J,OAAA,MAEAtI,aAAA,EACAV,QAAA,EACAV,SAAA,EACA4K,cAAA,KACAnK,SAAA,EAEA,EACA2E,SAAA,CAEA/E,SAAA,WACA,YAAAuK,eAAA,KAAAvL,QAAAqK,QAAA,KAAAkB,gBAAA,KAAAvL,QAAAqK,MACA,GAEAmB,QAAA,WACA,KAAAC,cACA,KAAAC,kBACA,EAEAxF,MAAA,CAEA,sBAAAyF,GACAA,GACA,KAAAC,iBAEA,GAEAtF,QAAA,CAEAmF,YAAA,eAAAlF,EAAA,YAAAkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAC,IAAA,IAAAE,EAAA+D,EAAAC,EAAA/D,EAAA,OAAAL,EAAAA,EAAAA,KAAAM,EAAA,SAAAC,GAAA,eAAAA,EAAAC,EAAAD,EAAAE,GAAA,UAAAF,EAAAC,EAAA,EAGA3B,EAAAwF,OAAAC,QAAA9J,gBAAA,CAAA+F,EAAAE,EAAA,QACA,OAAAY,QAAAkD,IAAA,kBAAAhE,EAAAgB,EAAA,iBAAAhB,EAAAE,EAAA,EAIAC,EAAAA,EAAAjG,KAAA+J,UAAA,OAAApE,EAAAG,EAAAK,EACA,MAAAR,EAAAS,OACAsD,EAAA/D,EAAAjC,KACAU,EAAAgF,cAAAM,EAAAjK,GAEA2E,EAAA5F,QAAA,IAAAkL,EAAAM,KACApD,QAAAkD,IAAA,YAAAJ,IACA5D,EAAAE,EAAA,eAAAF,EAAAC,EAAA,EAAAH,EAAAE,EAAAK,EAEAS,QAAAC,MAAA,YAAAjB,GAEA+D,EAAAvF,EAAAwF,OAAAC,QAAA7J,KACA2J,IACAvF,EAAAgF,cAAAO,EAAAlK,GACA2E,EAAA5F,QAAA,IAAAmL,EAAAK,KACApD,QAAAkD,IAAA,gBAAAH,IACA,cAAA7D,EAAAgB,EAAA,KAAArB,EAAA,gBAxBAH,EA0BA,EAEAiE,iBAAA,eAAA7E,EAAA,YAAAY,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAwB,IAAA,IAAA3D,EAAAsC,EAAAsE,EAAA/C,EAAAa,EAAA,OAAAxC,EAAAA,EAAAA,KAAAM,EAAA,SAAAsB,GAAA,eAAAA,EAAApB,EAAAoB,EAAAnB,GAAA,OAEA,OAFAmB,EAAApB,EAAA,EAEA1C,EAAAqB,EAAAwF,OAAAxE,OAAAjG,GAAA0H,EAAAnB,EAAA,EACAC,EAAAA,EAAApI,QAAAsM,UAAA9G,GAAA,OAAAsC,EAAAwB,EAAAhB,EACA,MAAAR,EAAAS,MACA1B,EAAA7G,QAAA8H,EAAAjC,KAEAgB,EAAA9E,aAAA8E,EAAA7G,QAAA+B,cAAA,EAGA8E,EAAA+E,kBAGA/E,EAAA0F,uBAGA1F,EAAA2C,SAAAR,MAAAlB,EAAA0E,SAAA,YACA,aAAA1E,EAAA0E,SACApF,WAAA,WACAP,EAAA0D,QAAAC,KAAA,WACA,SAEAlB,EAAAnB,EAAA,eAGA,GAHAmB,EAAApB,EAAA,EAAAmB,EAAAC,EAAAhB,EAEAS,QAAAC,MAAA,YAAAK,GACA+C,EAAA,YAEA/C,EAAAvB,SAAA,CAAAwB,EAAAnB,EAAA,QAAA+B,EACAb,EAAAvB,SAAArH,OAAA6I,EAAAnB,EACA,MADA+B,EACA,EAGA,MAHAA,EAGA,iBAFA,OAAAkC,EAAA,WAAA9C,EAAAL,EAAA,YAGA,OAAAmD,EAAA,WAAA9C,EAAAL,EAAA,YAGAmD,EAAA,aAAAhI,OAAAiF,EAAAmD,SAAA,eAAAlD,EAAAnB,EAAA,eAEAkB,EAAAmD,UACAJ,EAAA,aAAAhI,OAAAiF,EAAAmD,UACA,OAEA3F,EAAA2C,SAAAR,MAAAoD,GACAhF,WAAA,WACAP,EAAA0D,QAAAC,KAAA,WACA,sBAAAlB,EAAAL,EAAA,KAAAE,EAAA,gBA7CA1B,EA+CA,EAGA8E,mBAAA,kBAAA9E,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAqC,IAAA,OAAAtC,EAAAA,EAAAA,KAAAM,EAAA,SAAAmC,GAAA,eAAAA,EAAAhC,GAAA,OAMA,cAAAgC,EAAAlB,EAAA,KAAAe,EAAA,GANAvC,EAOA,EAGAmE,gBAAA,eAAAtE,EAAA,YAAAG,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAA8E,IAAA,IAAAC,EAAA5E,EAAA6E,EAAA,OAAAjF,EAAAA,EAAAA,KAAAM,EAAA,SAAA4E,GAAA,eAAAA,EAAA1E,EAAA0E,EAAAzE,GAAA,UACAb,EAAAtH,QAAA4B,GAAA,CAAAgL,EAAAzE,EAAA,eAAAyE,EAAA3D,EAAA,UAKA,GAAAyD,EAAAG,aAAAC,QAAA,SACAJ,EAAA,CAAAE,EAAAzE,EAAA,QAEA,OADAY,QAAAkD,IAAA,kBACA3E,EAAAlG,SAAA,EAAAwL,EAAA3D,EAAA,iBAAA2D,EAAA1E,EAAA,EAAA0E,EAAAzE,EAAA,EAKAC,EAAAA,EAAApI,QAAA4L,gBAAAtE,EAAAtH,QAAA4B,IAAA,OAAAkG,EAAA8E,EAAAtE,EACA,MAAAR,EAAAS,OACAjB,EAAAlG,QAAA0G,EAAAjC,KACAkD,QAAAkD,IAAA,QAAA3E,EAAAlG,QAAA,cACAwL,EAAAzE,EAAA,eAAAyE,EAAA1E,EAAA,EAAAyE,EAAAC,EAAAtE,EAEAS,QAAAC,MAAA,YAAA2D,GAEArF,EAAAlG,SAAA,gBAAAwL,EAAA3D,EAAA,KAAAwD,EAAA,gBAtBAhF,EAwBA,EAGAnG,WAAA,eAAAkG,EAAA,YAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAoF,IAAA,IAAAL,EAAAZ,EAAAkB,EAAAlF,EAAAmF,EAAAC,EAAA,OAAAxF,EAAAA,EAAAA,KAAAM,EAAA,SAAAmF,GAAA,eAAAA,EAAAjF,EAAAiF,EAAAhF,GAAA,OAEA,GAAAuE,EAAAG,aAAAC,QAAA,SACAJ,EAAA,CAAAS,EAAAhF,EAAA,QAKA,OAJAX,EAAAgC,SAAAC,QAAA,QAEAoD,aAAAO,QAAA,cAAA5F,EAAA6E,OAAAgB,UAEA7F,EAAA+C,QAAAC,KAAA,UAAA2C,EAAAlE,EAAA,UAYA,GAZAkE,EAAAjF,EAAA,EAKAV,EAAAnG,QAAA,EAGAmG,EAAAuE,OAAAC,QAAAU,OACAlF,EAAAuE,OAAAuB,OAAA,YAAAZ,GAIAlF,EAAA+D,cAAA,CAAA4B,EAAAhF,EAAA,QAEA,GAAA2D,EAAAtE,EAAAuE,OAAAC,QAAA7J,MACA2J,IAAAA,EAAAlK,GAAA,CAAAuL,EAAAhF,EAAA,QACAX,EAAA+D,cAAAO,EAAAlK,GACA4F,EAAA7G,QAAA,IAAAmL,EAAAK,KAAAgB,EAAAhF,EAAA,sBAAAgF,EAAAjF,EAAA,EAAAiF,EAAAhF,EAAA,EAIAX,EAAAuE,OAAAwB,SAAA,sBACA,GAAAP,EAAAxF,EAAAuE,OAAAC,QAAA7J,MACA6K,EAAA,CAAAG,EAAAhF,EAAA,QACAX,EAAA+D,cAAAyB,EAAApL,GACA4F,EAAA7G,QAAA,IAAAqM,EAAAb,KAAAgB,EAAAhF,EAAA,qBAEA,IAAAqF,MAAA,mBAAAL,EAAAhF,EAAA,eAOA,OAPAgF,EAAAjF,EAAA,EAAA+E,EAAAE,EAAA7E,EAGAS,QAAAC,MAAA,YAAAiE,GACAzF,EAAAgC,SAAAR,MAAA,gBACAxB,EAAAuE,OAAAwB,SAAA,UACAV,aAAAO,QAAA,cAAA5F,EAAA6E,OAAAgB,UACA7F,EAAA+C,QAAAC,KAAA,UAAA2C,EAAAlE,EAAA,iBAAAkE,EAAAhF,EAAA,EAOAC,EAAAA,EAAApI,QAAAyN,KAAAjG,EAAAxH,QAAA4B,IAAA,OAAAkG,EAAAqF,EAAA7E,EAEA,MAAAR,EAAAS,OAEAf,EAAApG,SAAAoG,EAAApG,QAGAoG,EAAApG,SACAoG,EAAAxH,QAAAM,YACAkH,EAAAgC,SAAAG,QAAA,UAEAnC,EAAAxH,QAAAM,UAAA,GACAkH,EAAAxH,QAAAM,YAEAkH,EAAAgC,SAAAG,QAAA,WAEAwD,EAAAhF,EAAA,gBAAAgF,EAAAjF,EAAA,EAAAgF,EAAAC,EAAA7E,EAEAS,QAAAC,MAAA,UAAAkE,GACAA,EAAApF,SACA,MAAAoF,EAAApF,SAAArH,QAAA,MAAAyM,EAAApF,SAAArH,QACA+G,EAAAgC,SAAAR,MAAA,eAEAxB,EAAAuE,OAAAwB,SAAA,UACAV,aAAAO,QAAA,cAAA5F,EAAA6E,OAAAgB,UACA7F,EAAA+C,QAAAC,KAAA,WAEAhD,EAAAgC,SAAAR,MAAA,UAAAkE,EAAAV,SAAA,SAGAhF,EAAAgC,SAAAR,MAAA,UAAAkE,EAAAV,SAAA,SACA,QAEA,OAFAW,EAAAjF,EAAA,GAEAV,EAAAnG,QAAA,EAAA8L,EAAAvD,EAAA,mBAAAuD,EAAAlE,EAAA,KAAA8D,EAAA,4BAnFAtF,EAqFA,EAGA/G,cAAA,SAAAD,GACA,OAAAA,GACA,kBACA,mBACA,mBACA,qBACA,qBAEA,EAGAD,eAAA,SAAAC,GACA,OAAAA,GACA,4BACA,gCACA,8BACA,+BACA,iBAEA,EAGAI,eAAA,eAAAqI,EAAA,YAAAzB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAA+F,IAAA,IAAA5F,EAAA6F,EAAA,OAAAjG,EAAAA,EAAAA,KAAAM,EAAA,SAAA4F,GAAA,eAAAA,EAAA1F,EAAA0F,EAAAzF,GAAA,cAAAyF,EAAA1F,EAAA,EAAA0F,EAAAzF,EAAA,EAEAC,EAAAA,EAAApI,QAAA6N,QAAA3E,EAAAlJ,QAAA4B,IAAA,OAAAkG,EAAA8F,EAAAtF,EACA,MAAAR,EAAAS,OACAW,EAAAM,SAAAG,QAAA,UACAT,EAAAlJ,QAAAS,OAAA,GACAmN,EAAAzF,EAAA,eAAAyF,EAAA1F,EAAA,EAAAyF,EAAAC,EAAAtF,EAEAY,EAAAM,SAAAR,MAAA,YAAA2E,EAAAnB,SAAA,uBAAAoB,EAAA3E,EAAA,KAAAyE,EAAA,gBARAjG,EAUA,EAGA3G,cAAA,eAAAiJ,EAAA,YAAAtC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,EAAA,SAAAmG,IAAA,IAAAhG,EAAAiG,EAAA,OAAArG,EAAAA,EAAAA,KAAAM,EAAA,SAAAgG,GAAA,eAAAA,EAAA9F,EAAA8F,EAAA7F,GAAA,cAAA6F,EAAA9F,EAAA,EAAA8F,EAAA7F,EAAA,EAEAC,EAAAA,EAAApI,QAAAiO,OAAAlE,EAAA/J,QAAA4B,IAAA,OAAAkG,EAAAkG,EAAA1F,EACA,MAAAR,EAAAS,OACAwB,EAAAP,SAAAG,QAAA,UACAI,EAAA/J,QAAAS,OAAA,GACAuN,EAAA7F,EAAA,eAAA6F,EAAA9F,EAAA,EAAA6F,EAAAC,EAAA1F,EAEAyB,EAAAP,SAAAR,MAAA,YAAA+E,EAAAvB,SAAA,uBAAAwB,EAAA/E,EAAA,KAAA6E,EAAA,gBARArG,EAUA,EAGAxG,YAAA,WACA,KAAAsJ,QAAAC,KAAA,aAAApG,OAAA,KAAApE,QAAA4B,IACA,EAGAI,mBAAA,SAAAkM,GACA,KAAAnM,aAAAmM,EAEA,KAAAlO,QAAA+B,aAAAmM,CACA,EAGA/N,WAAA,SAAAgO,GACA,IAAAA,EAAA,SACA,IAAAzD,EAAA,IAAAC,KAAAwD,GACA,SAAA/J,OAAAsG,EAAAM,cAAA,KAAA5G,OAAAsB,OAAAgF,EAAAO,WAAA,GAAAC,SAAA,YAAA9G,OAAAsB,OAAAgF,EAAAS,WAAAD,SAAA,OACA,ICxY4P,ICQ5P,IAAI,GAAY,OACd,EACA5L,EACA2C,GACA,EACA,KACA,WACA,MAIF,QAAe,E","sources":["webpack://blog-frontend/./src/views/ArticleDetail.vue","webpack://blog-frontend/./src/components/CommentSection.vue","webpack://blog-frontend/src/components/CommentSection.vue","webpack://blog-frontend/./src/components/CommentSection.vue?8088","webpack://blog-frontend/./src/components/CommentSection.vue?03ce","webpack://blog-frontend/src/views/ArticleDetail.vue","webpack://blog-frontend/./src/views/ArticleDetail.vue?3970","webpack://blog-frontend/./src/views/ArticleDetail.vue?a290"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"article-detail-container\"},[_c('el-card',{staticClass:\"article-card\"},[_c('div',{staticClass:\"header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('h1',[_vm._v(_vm._s(_vm.article.title))]),_c('div',{staticClass:\"article-meta\"},[_c('span',{staticClass:\"author\"},[_vm._v(\"作者: \"+_vm._s(_vm.article.authorName || '未知'))]),_c('span',{staticClass:\"time\"},[_vm._v(\"发布时间: \"+_vm._s(_vm.formatDate(_vm.article.createTime)))]),_c('span',{staticClass:\"views\"},[_vm._v(\"阅读: \"+_vm._s(_vm.article.viewCount))]),_c('span',{staticClass:\"likes\"},[_vm._v(\"点赞: \"+_vm._s(_vm.article.likeCount))]),_c('span',{staticClass:\"status\",class:_vm.getStatusClass(_vm.article.status)},[_vm._v(\" \"+_vm._s(_vm.getStatusText(_vm.article.status))+\" \")])]),(_vm.isAdmin && _vm.article.status === 2)?_c('div',{staticClass:\"admin-actions\"},[_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"small\"},on:{\"click\":_vm.approveArticle}},[_vm._v(\"审核通过\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"small\"},on:{\"click\":_vm.rejectArticle}},[_vm._v(\"审核拒绝\")])],1):_vm._e(),(_vm.isAuthor && (_vm.article.status === 2 || _vm.article.status === 3))?_c('div',{staticClass:\"author-actions\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.editArticle}},[_vm._v(\"编辑文章\")])],1):_vm._e()]),_c('div',{staticClass:\"article-content\",domProps:{\"innerHTML\":_vm._s(_vm.article.content)}}),_c('div',{staticClass:\"article-footer\"},[_c('el-button',{attrs:{\"type\":_vm.isLiked ? 'success' : 'primary',\"icon\":_vm.isLiked ? 'el-icon-star-on' : 'el-icon-thumb',\"loading\":_vm.liking},on:{\"click\":_vm.toggleLike}},[_vm._v(\" \"+_vm._s(_vm.isLiked ? '已点赞' : '点赞')+\" \"+_vm._s(_vm.article.likeCount)+\" \")]),(_vm.article.tags && _vm.article.tags.length)?_c('div',{staticClass:\"tags\"},_vm._l((_vm.article.tags),function(tag){return _c('el-tag',{key:tag.id,attrs:{\"type\":tag.color || 'info',\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(tag.name)+\" \")])}),1):_vm._e()],1)]),(_vm.article.id)?_c('el-card',{staticClass:\"comments-card\"},[_c('div',{staticClass:\"comments-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',{staticClass:\"comments-title\"},[_c('i',{staticClass:\"el-icon-chat-dot-round\"}),_c('span',[_vm._v(\"评论 (\"+_vm._s(_vm.commentCount)+\")\")])]),(_vm.commentCount > 0)?_c('div',{staticClass:\"comments-info\"},[_c('el-tooltip',{attrs:{\"content\":\"评论规则\",\"placement\":\"top\"}},[_c('i',{staticClass:\"el-icon-info\"})]),_c('span',[_vm._v(\"文明评论，理性发言\")])],1):_vm._e()]),_c('comment-section',{attrs:{\"article-id\":_vm.article.id},on:{\"comment-count-updated\":_vm.updateCommentCount}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"comment-section\"},[_c('div',{staticClass:\"comment-input-container\"},[_c('div',{staticClass:\"comment-input-header\"},[(_vm.isAuthenticated)?_c('div',{staticClass:\"user-info\"},[_c('el-avatar',{attrs:{\"src\":_vm.user.avatar || _vm.defaultAvatar,\"size\":\"small\"}}),_c('span',{staticClass:\"username\"},[_vm._v(_vm._s(_vm.user.nickname || '我'))])],1):_c('div',{staticClass:\"comment-tips\"},[_c('i',{staticClass:\"el-icon-info\"}),_c('span',[_vm._v(\"登录后才能发表评论\")])])]),_c('div',{staticClass:\"comment-input\"},[_c('el-input',{staticClass:\"comment-textarea\",attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":_vm.isAuthenticated ? '说点什么吧...' : '请登录后发表评论',\"disabled\":!_vm.isAuthenticated},model:{value:(_vm.newComment),callback:function ($$v) {_vm.newComment=$$v},expression:\"newComment\"}}),_c('div',{staticClass:\"comment-toolbar\"},[_c('div',{staticClass:\"emoji-picker\"},[_c('el-button',{staticClass:\"emoji-button\",attrs:{\"type\":\"text\",\"disabled\":!_vm.isAuthenticated},on:{\"click\":_vm.toggleEmojiPanel}},[_c('i',{staticClass:\"el-icon-sunny\"}),_vm._v(\" 表情 \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showEmojiPicker),expression:\"showEmojiPicker\"}],staticClass:\"emoji-panel\"},[_c('div',{staticClass:\"emoji-container\"},[_c('div',{staticClass:\"emoji-categories\"},_vm._l((_vm.emojiCategories),function(category,index){return _c('span',{key:index,class:['emoji-category', { active: _vm.currentEmojiCategory === index }],on:{\"click\":function($event){_vm.currentEmojiCategory = index}}},[_vm._v(\" \"+_vm._s(category.icon)+\" \")])}),0),_c('div',{staticClass:\"emoji-list\"},_vm._l((_vm.currentCategoryEmojis),function(emoji){return _c('span',{key:emoji,staticClass:\"emoji-item\",on:{\"click\":function($event){return _vm.insertEmoji(emoji)}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0)])])],1),_c('div',{staticClass:\"comment-actions\"},[(_vm.isAuthenticated)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"loading\":_vm.submitting,\"icon\":\"el-icon-s-promotion\"},on:{\"click\":_vm.submitComment}},[_vm._v(\" 发表评论 \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"el-icon-user\"},on:{\"click\":_vm.goToLogin}},[_vm._v(\" 登录后评论 \")])],1)])],1)]),(_vm.comments.length)?_c('div',{staticClass:\"comment-list\"},_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id,staticClass:\"comment-item\"},[_c('div',{staticClass:\"comment-header\"},[_c('el-avatar',{attrs:{\"src\":comment.avatar || _vm.defaultAvatar,\"size\":\"small\"}}),_c('span',{staticClass:\"comment-author\"},[_vm._v(_vm._s(comment.nickname))]),_c('span',{staticClass:\"comment-time\"},[_vm._v(_vm._s(_vm.formatTime(comment.createTime)))])],1),_c('div',{staticClass:\"comment-content\"},[_vm._v(_vm._s(comment.content))]),_c('div',{staticClass:\"comment-actions-bar\"},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-chat-dot-round\"},on:{\"click\":function($event){return _vm.toggleReplyInput(comment.id)}}},[_vm._v(\" 回复 (\"+_vm._s(comment.replyCount || 0)+\") \")]),_c('span',{staticClass:\"comment-like\"},[_c('i',{staticClass:\"el-icon-thumb\"}),_vm._v(\" \"+_vm._s(comment.likeCount || 0)+\" \")])],1),(_vm.replyingTo === comment.id)?_c('div',{staticClass:\"reply-input\"},[_c('el-input',{staticClass:\"reply-textarea\",attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":`回复 @${comment.nickname}`},model:{value:(_vm.replyContent),callback:function ($$v) {_vm.replyContent=$$v},expression:\"replyContent\"}}),_c('div',{staticClass:\"reply-toolbar\"},[_c('div',{staticClass:\"emoji-picker\"},[_c('el-button',{staticClass:\"emoji-button\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.toggleReplyEmojiPanel}},[_c('i',{staticClass:\"el-icon-sunny\"}),_vm._v(\" 表情 \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showReplyEmojiPicker),expression:\"showReplyEmojiPicker\"}],staticClass:\"emoji-panel\"},[_c('div',{staticClass:\"emoji-container\"},[_c('div',{staticClass:\"emoji-categories\"},_vm._l((_vm.emojiCategories),function(category,index){return _c('span',{key:index,class:['emoji-category', { active: _vm.currentEmojiCategory === index }],on:{\"click\":function($event){_vm.currentEmojiCategory = index}}},[_vm._v(\" \"+_vm._s(category.icon)+\" \")])}),0),_c('div',{staticClass:\"emoji-list\"},_vm._l((_vm.currentCategoryEmojis),function(emoji){return _c('span',{key:emoji,staticClass:\"emoji-item\",on:{\"click\":function($event){return _vm.insertReplyEmoji(emoji)}}},[_vm._v(\" \"+_vm._s(emoji)+\" \")])}),0)])])],1),_c('div',{staticClass:\"reply-actions\"},[_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-close\"},on:{\"click\":_vm.cancelReply}},[_vm._v(\"取消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"loading\":_vm.replySubmitting,\"icon\":\"el-icon-s-promotion\"},on:{\"click\":function($event){return _vm.submitReply(comment)}}},[_vm._v(\" 回复 \")])],1)])],1):_vm._e(),(comment.children && comment.children.length)?_c('div',{staticClass:\"child-comments\"},_vm._l((comment.children),function(child){return _c('div',{key:child.id,staticClass:\"child-comment-item\"},[_c('div',{staticClass:\"comment-header\"},[_c('el-avatar',{attrs:{\"src\":child.avatar || _vm.defaultAvatar,\"size\":\"small\"}}),_c('span',{staticClass:\"comment-author\"},[_vm._v(_vm._s(child.nickname))]),(child.replyToNickname)?_c('span',{staticClass:\"reply-to\"},[_vm._v(\" 回复 @\"+_vm._s(child.replyToNickname)+\" \")]):_vm._e(),_c('span',{staticClass:\"comment-time\"},[_vm._v(_vm._s(_vm.formatTime(child.createTime)))])],1),_c('div',{staticClass:\"comment-content\"},[_vm._v(_vm._s(child.content))]),_c('div',{staticClass:\"comment-actions-bar\"},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\",\"icon\":\"el-icon-chat-dot-round\"},on:{\"click\":function($event){return _vm.replyToChild(comment, child)}}},[_vm._v(\" 回复 \")]),_c('span',{staticClass:\"comment-like\"},[_c('i',{staticClass:\"el-icon-thumb\"}),_vm._v(\" \"+_vm._s(child.likeCount || 0)+\" \")])],1)])}),0):_vm._e()])}),0):_c('div',{staticClass:\"no-comments\"},[_c('i',{staticClass:\"el-icon-chat-dot-round no-comments-icon\"}),_c('p',[_vm._v(\"暂无评论，快来发表第一条评论吧！\")]),(_vm.isAuthenticated)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.focusCommentInput}},[_vm._v(\" 写下我的评论 \")]):_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"plain\":\"\"},on:{\"click\":_vm.goToLogin}},[_vm._v(\" 登录后评论 \")])],1),(_vm.pagination.total > _vm.pagination.size)?_c('el-pagination',{staticClass:\"pagination\",attrs:{\"current-page\":_vm.pagination.current,\"page-sizes\":[5, 10, 20, 50],\"page-size\":_vm.pagination.size,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"comment-section\">\r\n    <!-- 评论输入框 -->\r\n    <div class=\"comment-input-container\">\r\n      <div class=\"comment-input-header\">\r\n        <div class=\"user-info\" v-if=\"isAuthenticated\">\r\n          <el-avatar :src=\"user.avatar || defaultAvatar\" size=\"small\"></el-avatar>\r\n          <span class=\"username\">{{ user.nickname || '我' }}</span>\r\n        </div>\r\n        <div class=\"comment-tips\" v-else>\r\n          <i class=\"el-icon-info\"></i>\r\n          <span>登录后才能发表评论</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"comment-input\">\r\n        <el-input\r\n          type=\"textarea\"\r\n          :rows=\"3\"\r\n          v-model=\"newComment\"\r\n          :placeholder=\"isAuthenticated ? '说点什么吧...' : '请登录后发表评论'\"\r\n          class=\"comment-textarea\"\r\n          :disabled=\"!isAuthenticated\"\r\n        ></el-input>\r\n        \r\n        <div class=\"comment-toolbar\">\r\n          <div class=\"emoji-picker\">\r\n            <el-button \r\n              type=\"text\" \r\n              :disabled=\"!isAuthenticated\"\r\n              class=\"emoji-button\"\r\n              @click=\"toggleEmojiPanel\"\r\n            >\r\n              <i class=\"el-icon-sunny\"></i> 表情\r\n            </el-button>\r\n            \r\n            <div v-show=\"showEmojiPicker\" class=\"emoji-panel\">\r\n              <div class=\"emoji-container\">\r\n                <div class=\"emoji-categories\">\r\n                  <span \r\n                    v-for=\"(category, index) in emojiCategories\" \r\n                    :key=\"index\"\r\n                    :class=\"['emoji-category', { active: currentEmojiCategory === index }]\"\r\n                    @click=\"currentEmojiCategory = index\"\r\n                  >\r\n                    {{ category.icon }}\r\n                  </span>\r\n                </div>\r\n                <div class=\"emoji-list\">\r\n                  <span \r\n                    v-for=\"emoji in currentCategoryEmojis\" \r\n                    :key=\"emoji\"\r\n                    class=\"emoji-item\"\r\n                    @click=\"insertEmoji(emoji)\"\r\n                  >\r\n                    {{ emoji }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div class=\"comment-actions\">\r\n            <el-button \r\n              v-if=\"isAuthenticated\"\r\n              type=\"primary\" \r\n              size=\"small\" \r\n              @click=\"submitComment\" \r\n              :loading=\"submitting\"\r\n              icon=\"el-icon-s-promotion\"\r\n            >\r\n              发表评论\r\n            </el-button>\r\n            <el-button \r\n              v-else\r\n              type=\"primary\" \r\n              size=\"small\" \r\n              @click=\"goToLogin\"\r\n              icon=\"el-icon-user\"\r\n            >\r\n              登录后评论\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 评论列表 -->\r\n    <div class=\"comment-list\" v-if=\"comments.length\">\r\n      <div v-for=\"comment in comments\" :key=\"comment.id\" class=\"comment-item\">\r\n        <div class=\"comment-header\">\r\n          <el-avatar :src=\"comment.avatar || defaultAvatar\" size=\"small\"></el-avatar>\r\n          <span class=\"comment-author\">{{ comment.nickname }}</span>\r\n          <span class=\"comment-time\">{{ formatTime(comment.createTime) }}</span>\r\n        </div>\r\n        <div class=\"comment-content\">{{ comment.content }}</div>\r\n        \r\n        <!-- 评论操作 -->\r\n        <div class=\"comment-actions-bar\">\r\n          <el-button \r\n            type=\"text\" \r\n            size=\"mini\" \r\n            @click=\"toggleReplyInput(comment.id)\"\r\n            icon=\"el-icon-chat-dot-round\"\r\n          >\r\n            回复 ({{ comment.replyCount || 0 }})\r\n          </el-button>\r\n          <span class=\"comment-like\">\r\n            <i class=\"el-icon-thumb\"></i>\r\n            {{ comment.likeCount || 0 }}\r\n          </span>\r\n        </div>\r\n\r\n        <!-- 回复输入框 -->\r\n        <div v-if=\"replyingTo === comment.id\" class=\"reply-input\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"2\"\r\n            v-model=\"replyContent\"\r\n            :placeholder=\"`回复 @${comment.nickname}`\"\r\n            class=\"reply-textarea\"\r\n          ></el-input>\r\n          <div class=\"reply-toolbar\">\r\n            <div class=\"emoji-picker\">\r\n              <el-button \r\n                type=\"text\"\r\n                class=\"emoji-button\"\r\n                @click=\"toggleReplyEmojiPanel\"\r\n              >\r\n                <i class=\"el-icon-sunny\"></i> 表情\r\n              </el-button>\r\n              \r\n              <div v-show=\"showReplyEmojiPicker\" class=\"emoji-panel\">\r\n                <div class=\"emoji-container\">\r\n                  <div class=\"emoji-categories\">\r\n                    <span \r\n                      v-for=\"(category, index) in emojiCategories\" \r\n                      :key=\"index\"\r\n                      :class=\"['emoji-category', { active: currentEmojiCategory === index }]\"\r\n                      @click=\"currentEmojiCategory = index\"\r\n                    >\r\n                      {{ category.icon }}\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"emoji-list\">\r\n                    <span \r\n                      v-for=\"emoji in currentCategoryEmojis\" \r\n                      :key=\"emoji\"\r\n                      class=\"emoji-item\"\r\n                      @click=\"insertReplyEmoji(emoji)\"\r\n                    >\r\n                      {{ emoji }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"reply-actions\">\r\n              <el-button size=\"mini\" @click=\"cancelReply\" icon=\"el-icon-close\">取消</el-button>\r\n              <el-button \r\n                type=\"primary\" \r\n                size=\"mini\" \r\n                @click=\"submitReply(comment)\" \r\n                :loading=\"replySubmitting\"\r\n                icon=\"el-icon-s-promotion\"\r\n              >\r\n                回复\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- 子评论 -->\r\n        <div class=\"child-comments\" v-if=\"comment.children && comment.children.length\">\r\n          <div \r\n            v-for=\"child in comment.children\" \r\n            :key=\"child.id\" \r\n            class=\"child-comment-item\"\r\n          >\r\n            <div class=\"comment-header\">\r\n              <el-avatar :src=\"child.avatar || defaultAvatar\" size=\"small\"></el-avatar>\r\n              <span class=\"comment-author\">{{ child.nickname }}</span>\r\n              <span class=\"reply-to\" v-if=\"child.replyToNickname\">\r\n                回复 @{{ child.replyToNickname }}\r\n              </span>\r\n              <span class=\"comment-time\">{{ formatTime(child.createTime) }}</span>\r\n            </div>\r\n            <div class=\"comment-content\">{{ child.content }}</div>\r\n            <div class=\"comment-actions-bar\">\r\n              <el-button \r\n                type=\"text\" \r\n                size=\"mini\" \r\n                @click=\"replyToChild(comment, child)\"\r\n                icon=\"el-icon-chat-dot-round\"\r\n              >\r\n                回复\r\n              </el-button>\r\n              <span class=\"comment-like\">\r\n                <i class=\"el-icon-thumb\"></i>\r\n                {{ child.likeCount || 0 }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"no-comments\">\r\n      <i class=\"el-icon-chat-dot-round no-comments-icon\"></i>\r\n      <p>暂无评论，快来发表第一条评论吧！</p>\r\n      <el-button \r\n        v-if=\"isAuthenticated\" \r\n        type=\"primary\" \r\n        size=\"small\" \r\n        @click=\"focusCommentInput\"\r\n        plain\r\n      >\r\n        写下我的评论\r\n      </el-button>\r\n      <el-button \r\n        v-else \r\n        type=\"primary\" \r\n        size=\"small\" \r\n        @click=\"goToLogin\"\r\n        plain\r\n      >\r\n        登录后评论\r\n      </el-button>\r\n    </div>\r\n\r\n    <!-- 分页 -->\r\n    <el-pagination\r\n      v-if=\"pagination.total > pagination.size\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"pagination.current\"\r\n      :page-sizes=\"[5, 10, 20, 50]\"\r\n      :page-size=\"pagination.size\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"pagination.total\"\r\n      class=\"pagination\"\r\n    ></el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport api from '../api'\r\n\r\nexport default {\r\n  name: 'CommentSection',\r\n  props: {\r\n    articleId: {\r\n      type: [String, Number],\r\n      required: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      comments: [],\r\n      newComment: '',\r\n      submitting: false,\r\n      replyingTo: null,\r\n      replyContent: '',\r\n      replySubmitting: false,\r\n      defaultAvatar: 'https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png',\r\n      pagination: {\r\n        current: 1,\r\n        size: 10,\r\n        total: 0\r\n      },\r\n      showEmojiPicker: false,\r\n      showReplyEmojiPicker: false,\r\n      currentEmojiCategory: 0,\r\n      emojiCategories: [\r\n        { name: '表情', icon: '😀', emojis: ['😀', '😃', '😄', '😁', '😆', '😅', '😂', '🤣', '😊', '😇', '🙂', '🙃', '😉', '😌', '😍', '🥰', '😘', '😗', '😙', '😚', '😋', '😛', '😝', '😜', '🤪', '🤨', '🧐', '🤓', '😎', '🤩', '🥳'] },\r\n        { name: '手势', icon: '👍', emojis: ['👍', '👎', '👌', '✌️', '🤞', '🤟', '🤘', '🤙', '👈', '👉', '👆', '👇', '☝️', '👋', '🤚', '🖐️', '✋', '🖖', '👏', '🙌', '👐', '🤲', '🤝', '🙏', '✍️'] },\r\n        { name: '动物', icon: '🐱', emojis: ['🐱', '🐶', '🐭', '🐹', '🐰', '🦊', '🐻', '🐼', '🐨', '🐯', '🦁', '🐮', '🐷', '🐸', '🐵', '🐔', '🐧', '🐦', '🐤', '🦆', '🦅', '🦉', '🦇', '🐺', '🐗', '🐴', '🦄', '🐝', '🐛', '🦋', '🐌'] },\r\n        { name: '食物', icon: '🍎', emojis: ['🍎', '🍐', '🍊', '🍋', '🍌', '🍉', '🍇', '🍓', '🍈', '🍒', '🍑', '🥭', '🍍', '🥥', '🥝', '🍅', '🍆', '🥑', '🥦', '🥬', '🥒', '🌶️', '🌽', '🥕', '🧄', '🧅', '🥔', '🍠', '🥐', '🥯', '🍞'] },\r\n        { name: '爱心', icon: '❤️', emojis: ['❤️', '🧡', '💛', '💚', '💙', '💜', '🖤', '🤍', '🤎', '💔', '❣️', '💕', '💞', '💓', '💗', '💖', '💘', '💝', '💟', '☮️', '✝️', '☪️', '🕉️', '☸️', '✡️', '🔯', '🕎', '☯️', '☦️', '🛐', '⛎'] }\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['isAuthenticated', 'user']),\r\n    currentCategoryEmojis() {\r\n      if (this.currentEmojiCategory >= 0 && this.currentEmojiCategory < this.emojiCategories.length) {\r\n        return this.emojiCategories[this.currentEmojiCategory].emojis;\r\n      }\r\n      return [];\r\n    }\r\n  },\r\n  watch: {\r\n    articleId: {\r\n      immediate: true,\r\n      handler() {\r\n        if (this.articleId) {\r\n          this.getComments()\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    focusCommentInput() {\r\n      this.$nextTick(() => {\r\n        const textarea = this.$el.querySelector('.comment-textarea textarea');\r\n        if (textarea) {\r\n          textarea.focus();\r\n        }\r\n      });\r\n    },\r\n    \r\n    toggleEmojiPanel() {\r\n      this.showEmojiPicker = !this.showEmojiPicker;\r\n      // 关闭回复表情面板\r\n      if (this.showEmojiPicker) {\r\n        this.showReplyEmojiPicker = false;\r\n      }\r\n      // 点击外部关闭表情面板\r\n      if (this.showEmojiPicker) {\r\n        this.$nextTick(() => {\r\n          const closePanel = (e) => {\r\n            if (!this.$el.querySelector('.emoji-picker').contains(e.target)) {\r\n              this.showEmojiPicker = false;\r\n              document.removeEventListener('click', closePanel);\r\n            }\r\n          };\r\n          setTimeout(() => {\r\n            document.addEventListener('click', closePanel);\r\n          }, 100);\r\n        });\r\n      }\r\n    },\r\n    \r\n    toggleReplyEmojiPanel() {\r\n      this.showReplyEmojiPicker = !this.showReplyEmojiPicker;\r\n      // 关闭主评论表情面板\r\n      if (this.showReplyEmojiPicker) {\r\n        this.showEmojiPicker = false;\r\n      }\r\n      // 点击外部关闭表情面板\r\n      if (this.showReplyEmojiPicker) {\r\n        this.$nextTick(() => {\r\n          const closePanel = (e) => {\r\n            const emojiPicker = this.$el.querySelector('.reply-input .emoji-picker');\r\n            if (emojiPicker && !emojiPicker.contains(e.target)) {\r\n              this.showReplyEmojiPicker = false;\r\n              document.removeEventListener('click', closePanel);\r\n            }\r\n          };\r\n          setTimeout(() => {\r\n            document.addEventListener('click', closePanel);\r\n          }, 100);\r\n        });\r\n      }\r\n    },\r\n    \r\n    insertEmoji(emoji) {\r\n      this.newComment += emoji;\r\n      this.showEmojiPicker = false;\r\n    },\r\n    \r\n    insertReplyEmoji(emoji) {\r\n      this.replyContent += emoji;\r\n      this.showReplyEmojiPicker = false;\r\n    },\r\n    \r\n    async getComments() {\r\n      try {\r\n        const params = {\r\n          current: this.pagination.current,\r\n          size: this.pagination.size\r\n        }\r\n        const response = await api.comment.getByArticle(this.articleId, params)\r\n        if (response.code === 200) {\r\n          const comments = response.data.records || []\r\n          \r\n          // 只处理顶级评论（level=1），回复评论已经在children中\r\n          this.comments = comments\r\n            .filter(comment => comment.level === 1 || !comment.parentId) // 只显示顶级评论\r\n            .map(comment => {\r\n              return {\r\n                ...comment,\r\n                nickname: comment.user ? comment.user.nickname : comment.nickname || '匿名用户',\r\n                avatar: comment.user ? comment.user.avatar : comment.avatar || this.defaultAvatar,\r\n                replyCount: comment.children ? comment.children.length : 0,\r\n                likeCount: comment.likeCount || 0,\r\n                isLiked: comment.isLiked || false,\r\n                children: (comment.children || []).map(child => {\r\n                  return {\r\n                    ...child,\r\n                    nickname: child.user ? child.user.nickname : child.nickname || '匿名用户',\r\n                    avatar: child.user ? child.user.avatar : child.avatar || this.defaultAvatar,\r\n                    replyToNickname: child.replyToUser ? child.replyToUser.nickname : child.replyToNickname,\r\n                    likeCount: child.likeCount || 0,\r\n                    isLiked: child.isLiked || false\r\n                  }\r\n                })\r\n              }\r\n            })\r\n          \r\n          this.pagination.total = response.data.total || 0\r\n          // 通知父组件更新评论数\r\n          this.$emit('comment-count-updated', this.pagination.total)\r\n        }\r\n      } catch (error) {\r\n        console.error('获取评论失败:', error)\r\n        this.comments = []\r\n        this.pagination.total = 0\r\n      }\r\n    },\r\n\r\n    async submitComment() {\r\n      if (!this.isAuthenticated) {\r\n        this.goToLogin()\r\n        return\r\n      }\r\n\r\n      if (!this.newComment.trim()) {\r\n        this.$message.warning('评论内容不能为空')\r\n        return\r\n      }\r\n\r\n      this.submitting = true\r\n      try {\r\n        const commentData = {\r\n          articleId: this.articleId,\r\n          content: this.newComment.trim()\r\n        }\r\n        const response = await api.comment.add(commentData)\r\n        if (response.code === 200) {\r\n          this.$message.success('评论发表成功')\r\n          this.newComment = ''\r\n          this.getComments()\r\n        }\r\n      } catch (error) {\r\n        console.error('评论发表失败:', error)\r\n        this.$message.error('评论发表失败')\r\n      } finally {\r\n        this.submitting = false\r\n      }\r\n    },\r\n\r\n    toggleReplyInput(commentId) {\r\n      if (!this.isAuthenticated) {\r\n        this.goToLogin()\r\n        return\r\n      }\r\n      \r\n      if (this.replyingTo === commentId) {\r\n        this.cancelReply()\r\n      } else {\r\n        this.replyingTo = commentId\r\n        this.replyContent = ''\r\n      }\r\n    },\r\n\r\n    async submitReply(parentComment) {\r\n      if (!this.replyContent.trim()) {\r\n        this.$message.warning('回复内容不能为空')\r\n        return\r\n      }\r\n\r\n      this.replySubmitting = true\r\n      try {\r\n        const replyData = {\r\n          articleId: this.articleId,\r\n          parentId: parentComment.id,\r\n          content: this.replyContent.trim(),\r\n          toUserId: parentComment.userId,\r\n          level: 2 // 回复层级\r\n        }\r\n        const response = await api.comment.add(replyData)\r\n        if (response.code === 200) {\r\n          this.$message.success('回复成功')\r\n          this.cancelReply()\r\n          this.getComments()\r\n        }\r\n      } catch (error) {\r\n        console.error('回复失败:', error)\r\n        this.$message.error('回复失败')\r\n      } finally {\r\n        this.replySubmitting = false\r\n      }\r\n    },\r\n\r\n    replyToChild(parentComment, childComment) {\r\n      if (!this.isAuthenticated) {\r\n        this.goToLogin()\r\n        return\r\n      }\r\n      \r\n      this.replyingTo = parentComment.id\r\n      this.replyContent = `@${childComment.nickname} `\r\n    },\r\n\r\n    cancelReply() {\r\n      this.replyingTo = null\r\n      this.replyContent = ''\r\n    },\r\n\r\n\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n\r\n    formatTime(timeString) {\r\n      if (!timeString) return ''\r\n      const date = new Date(timeString)\r\n      const now = new Date()\r\n      const diff = now - date\r\n      \r\n      if (diff < 60000) { // 1分钟内\r\n        return '刚刚'\r\n      } else if (diff < 3600000) { // 1小时内\r\n        return Math.floor(diff / 60000) + '分钟前'\r\n      } else if (diff < 86400000) { // 1天内\r\n        return Math.floor(diff / 3600000) + '小时前'\r\n      } else if (diff < 2592000000) { // 30天内\r\n        return Math.floor(diff / 86400000) + '天前'\r\n      } else {\r\n        return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\r\n      }\r\n    },\r\n\r\n    handleSizeChange(size) {\r\n      this.pagination.size = size\r\n      this.pagination.current = 1\r\n      this.getComments()\r\n    },\r\n\r\n    handleCurrentChange(current) {\r\n      this.pagination.current = current\r\n      this.getComments()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n/* emoji面板样式 */\r\n.emoji-panel {\r\n  position: absolute;\r\n  z-index: 1000;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);\r\n  width: 320px;\r\n  margin-top: 10px;\r\n  left: 0;\r\n  border: 1px solid #ebeef5;\r\n}\r\n\r\n.emoji-container {\r\n  padding: 10px;\r\n}\r\n\r\n.emoji-categories {\r\n  display: flex;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 10px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.emoji-category {\r\n  padding: 5px 10px;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.emoji-category:hover {\r\n  background: #f5f7fa;\r\n}\r\n\r\n.emoji-category.active {\r\n  background: #ecf5ff;\r\n  color: #409EFF;\r\n}\r\n\r\n.emoji-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 5px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.emoji-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.emoji-item:hover {\r\n  background: #f5f7fa;\r\n  transform: scale(1.2);\r\n}\r\n</style>\r\n\r\n<style scoped>\r\n.comment-section {\r\n  padding: 20px 0;\r\n  font-family: 'Helvetica Neue', Helvetica, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', Arial, sans-serif;\r\n}\r\n\r\n/* 评论输入区域样式 */\r\n.comment-input-container {\r\n  margin-bottom: 30px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.comment-input-container:hover {\r\n  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.comment-input-header {\r\n  padding: 15px 20px;\r\n  background: linear-gradient(135deg, #f6f9fc 0%, #eef1f5 100%);\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.username {\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.comment-tips {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  color: #909399;\r\n  font-size: 14px;\r\n}\r\n\r\n.comment-input {\r\n  padding: 20px;\r\n}\r\n\r\n.comment-textarea {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.comment-textarea >>> .el-textarea__inner {\r\n  border-radius: 8px;\r\n  border-color: #dcdfe6;\r\n  transition: all 0.3s ease;\r\n  padding: 12px 15px;\r\n  font-size: 14px;\r\n  resize: none;\r\n}\r\n\r\n.comment-textarea >>> .el-textarea__inner:focus {\r\n  border-color: #409EFF;\r\n  box-shadow: 0 0 0 2px rgba(64, 158, 255, 0.2);\r\n}\r\n\r\n.comment-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.emoji-picker {\r\n  position: relative;\r\n}\r\n\r\n.emoji-button {\r\n  color: #606266;\r\n  font-size: 14px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.emoji-button:hover {\r\n  color: #409EFF;\r\n}\r\n\r\n.emoji-button i {\r\n  font-size: 16px;\r\n}\r\n\r\n.comment-actions {\r\n  text-align: right;\r\n}\r\n\r\n/* Emoji选择器样式 */\r\n.emoji-container {\r\n  padding: 10px;\r\n}\r\n\r\n.emoji-categories {\r\n  display: flex;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n  margin-bottom: 10px;\r\n  overflow-x: auto;\r\n}\r\n\r\n.emoji-category {\r\n  padding: 5px 10px;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.emoji-category:hover {\r\n  background: #f5f7fa;\r\n}\r\n\r\n.emoji-category.active {\r\n  background: #ecf5ff;\r\n  color: #409EFF;\r\n}\r\n\r\n.emoji-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(8, 1fr);\r\n  gap: 5px;\r\n  max-height: 200px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.emoji-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 20px;\r\n  padding: 5px;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.emoji-item:hover {\r\n  background: #f5f7fa;\r\n  transform: scale(1.2);\r\n}\r\n\r\n/* 评论列表样式 */\r\n.comment-item {\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\r\n  transition: all 0.3s ease;\r\n  border-left: 4px solid transparent;\r\n}\r\n\r\n.comment-item:hover {\r\n  border-left-color: #409EFF;\r\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.comment-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n  gap: 12px;\r\n}\r\n\r\n.comment-author {\r\n  font-weight: 600;\r\n  color: #333;\r\n  font-size: 15px;\r\n}\r\n\r\n.reply-to {\r\n  color: #409EFF;\r\n  font-size: 13px;\r\n  background: #ecf5ff;\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.comment-time {\r\n  color: #909399;\r\n  font-size: 13px;\r\n  margin-left: auto;\r\n}\r\n\r\n.comment-content {\r\n  color: #333;\r\n  line-height: 1.8;\r\n  margin-bottom: 15px;\r\n  word-wrap: break-word;\r\n  font-size: 15px;\r\n  padding: 0 5px;\r\n}\r\n\r\n.comment-actions-bar {\r\n  display: flex;\r\n  gap: 20px;\r\n  align-items: center;\r\n  padding-top: 10px;\r\n  border-top: 1px dashed #eee;\r\n}\r\n\r\n.comment-actions-bar .el-button--text {\r\n  color: #606266;\r\n  padding: 0;\r\n  font-size: 13px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n\r\n.comment-actions-bar .el-button--text:hover {\r\n  color: #409EFF;\r\n}\r\n\r\n.comment-like {\r\n  color: #606266;\r\n  font-size: 13px;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.comment-like:hover {\r\n  color: #f56c6c;\r\n}\r\n\r\n.comment-like i {\r\n  font-size: 15px;\r\n}\r\n\r\n/* 回复区域样式 */\r\n.reply-input {\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background: #f6f9fc;\r\n  border-radius: 8px;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.05);\r\n}\r\n\r\n.reply-textarea {\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.reply-textarea >>> .el-textarea__inner {\r\n  border-radius: 6px;\r\n  border-color: #dcdfe6;\r\n  background: white;\r\n}\r\n\r\n.reply-toolbar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.reply-actions {\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n}\r\n\r\n/* 子评论样式 */\r\n.child-comments {\r\n  margin: 15px 0 0 40px;\r\n  padding: 15px;\r\n  border-left: 3px solid #409EFF;\r\n  background: #f9f9f9;\r\n  border-radius: 0 8px 8px 0;\r\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.03);\r\n}\r\n\r\n.child-comment-item {\r\n  padding: 15px 0;\r\n  border-bottom: 1px dashed #e0e0e0;\r\n}\r\n\r\n.child-comment-item:last-child {\r\n  border-bottom: none;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.child-comment-item:first-child {\r\n  padding-top: 0;\r\n}\r\n\r\n/* 无评论状态 */\r\n.no-comments {\r\n  text-align: center;\r\n  color: #909399;\r\n  padding: 60px 0;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.no-comments-icon {\r\n  font-size: 48px;\r\n  color: #c0c4cc;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.no-comments p {\r\n  margin: 0 0 15px;\r\n  font-size: 16px;\r\n}\r\n\r\n/* 分页样式 */\r\n.pagination {\r\n  margin-top: 30px;\r\n  text-align: center;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .comment-input-container {\r\n    border-radius: 8px;\r\n  }\r\n  \r\n  .child-comments {\r\n    margin-left: 20px;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .comment-header {\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .comment-time {\r\n    margin-left: 0;\r\n    width: 100%;\r\n    margin-top: 5px;\r\n  }\r\n  \r\n  .emoji-list {\r\n    grid-template-columns: repeat(6, 1fr);\r\n  }\r\n  \r\n  .comment-toolbar,\r\n  .reply-toolbar {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    gap: 10px;\r\n  }\r\n  \r\n  .comment-actions,\r\n  .reply-actions {\r\n    width: 100%;\r\n    justify-content: flex-end;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentSection.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./CommentSection.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./CommentSection.vue?vue&type=template&id=61dea156&scoped=true\"\nimport script from \"./CommentSection.vue?vue&type=script&lang=js\"\nexport * from \"./CommentSection.vue?vue&type=script&lang=js\"\nimport style0 from \"./CommentSection.vue?vue&type=style&index=0&id=61dea156&prod&lang=css\"\nimport style1 from \"./CommentSection.vue?vue&type=style&index=1&id=61dea156&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61dea156\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article-detail-container\">\r\n    <el-card class=\"article-card\">\r\n      <div slot=\"header\" class=\"header\">\r\n        <h1>{{ article.title }}</h1>\r\n        <div class=\"article-meta\">\r\n          <span class=\"author\">作者: {{ article.authorName || '未知' }}</span>\r\n          <span class=\"time\">发布时间: {{ formatDate(article.createTime) }}</span>\r\n          <span class=\"views\">阅读: {{ article.viewCount }}</span>\r\n          <span class=\"likes\">点赞: {{ article.likeCount }}</span>\r\n          <span class=\"status\" :class=\"getStatusClass(article.status)\">\r\n            {{ getStatusText(article.status) }}\r\n          </span>\r\n        </div>\r\n        \r\n        <!-- 管理员审核操作区 -->\r\n        <div class=\"admin-actions\" v-if=\"isAdmin && article.status === 2\">\r\n          <el-button type=\"success\" size=\"small\" @click=\"approveArticle\">审核通过</el-button>\r\n          <el-button type=\"danger\" size=\"small\" @click=\"rejectArticle\">审核拒绝</el-button>\r\n        </div>\r\n        \r\n        <!-- 作者编辑操作区 -->\r\n        <div class=\"author-actions\" v-if=\"isAuthor && (article.status === 2 || article.status === 3)\">\r\n          <el-button type=\"primary\" size=\"small\" @click=\"editArticle\">编辑文章</el-button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"article-content\" v-html=\"article.content\"></div>\r\n      \r\n      <div class=\"article-footer\">\r\n        <el-button \r\n          :type=\"isLiked ? 'success' : 'primary'\" \r\n          :icon=\"isLiked ? 'el-icon-star-on' : 'el-icon-thumb'\" \r\n          @click=\"toggleLike\"\r\n          :loading=\"liking\">\r\n          {{ isLiked ? '已点赞' : '点赞' }} {{ article.likeCount }}\r\n        </el-button>\r\n        \r\n        <div class=\"tags\" v-if=\"article.tags && article.tags.length\">\r\n          <el-tag \r\n            v-for=\"tag in article.tags\" \r\n            :key=\"tag.id\"\r\n            :type=\"tag.color || 'info'\"\r\n            size=\"small\">\r\n            {{ tag.name }}\r\n          </el-tag>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 评论区 -->\r\n    <el-card class=\"comments-card\" v-if=\"article.id\">\r\n      <div slot=\"header\" class=\"comments-header\">\r\n        <div class=\"comments-title\">\r\n          <i class=\"el-icon-chat-dot-round\"></i>\r\n          <span>评论 ({{ commentCount }})</span>\r\n        </div>\r\n        <div class=\"comments-info\" v-if=\"commentCount > 0\">\r\n          <el-tooltip content=\"评论规则\" placement=\"top\">\r\n            <i class=\"el-icon-info\"></i>\r\n          </el-tooltip>\r\n          <span>文明评论，理性发言</span>\r\n        </div>\r\n      </div>\r\n      \r\n      <comment-section \r\n        :article-id=\"article.id\"\r\n        @comment-count-updated=\"updateCommentCount\"\r\n      ></comment-section>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport CommentSection from '../components/CommentSection.vue'\r\nimport api from '../api'\r\n\r\nexport default {\r\n  name: 'ArticleDetail',\r\n  components: {\r\n    CommentSection\r\n  },\r\n  data() {\r\n    return {\r\n      article: {\r\n        id: null,\r\n        title: '',\r\n        content: '',\r\n        authorName: '',\r\n        createTime: '',\r\n        viewCount: 0,\r\n        likeCount: 0,\r\n        commentCount: 0,\r\n        tags: [],\r\n        status: 1, // 默认已发布状态\r\n        userId: null // 作者ID\r\n      },\r\n      commentCount: 0, // 实时评论数\r\n      liking: false,\r\n      isAdmin: false, // 是否为管理员\r\n      currentUserId: null, // 当前登录用户ID\r\n      isLiked: false // 是否已点赞\r\n    }\r\n  },\r\n  computed: {\r\n    // 判断当前用户是否为文章作者\r\n    isAuthor() {\r\n      return this.currentUserId && this.article.userId && this.currentUserId === this.article.userId;\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserInfo()\r\n    this.getArticleDetail()\r\n  },\r\n  \r\n  watch: {\r\n    // 监听文章ID变化，重新检查点赞状态\r\n    'article.id': function(newVal) {\r\n      if (newVal) {\r\n        this.checkLikeStatus()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 获取当前用户信息\r\n    async getUserInfo() {\r\n      try {\r\n        // 检查是否已登录\r\n        if (!this.$store.getters.isAuthenticated) {\r\n          console.log('用户未登录，无法获取用户信息')\r\n          return\r\n        }\r\n        \r\n        const response = await api.user.getInfo()\r\n        if (response.code === 200) {\r\n          const userInfo = response.data\r\n          this.currentUserId = userInfo.id\r\n          // 检查用户是否为管理员\r\n          this.isAdmin = userInfo.role === 0\r\n          console.log('获取用户信息成功:', userInfo)\r\n        }\r\n      } catch (error) {\r\n        console.error('获取用户信息失败:', error)\r\n        // 从store中获取基本用户信息\r\n        const storeUser = this.$store.getters.user\r\n        if (storeUser) {\r\n          this.currentUserId = storeUser.id\r\n          this.isAdmin = storeUser.role === 0\r\n          console.log('从store获取用户信息:', storeUser)\r\n        }\r\n      }\r\n    },\r\n    \r\n    async getArticleDetail() {\r\n      try {\r\n        const articleId = this.$route.params.id\r\n        const response = await api.article.getDetail(articleId)\r\n        if (response.code === 200) {\r\n          this.article = response.data\r\n          // 初始化评论计数\r\n          this.commentCount = this.article.commentCount || 0\r\n          \r\n          // 检查点赞状态\r\n          this.checkLikeStatus()\r\n          \r\n          // 增加文章浏览量\r\n          this.incrementViewCount()\r\n        } else {\r\n          // 处理业务错误\r\n          this.$message.error(response.message || '获取文章详情失败')\r\n          if (response.message === '您无权查看该文章') {\r\n            setTimeout(() => {\r\n              this.$router.push('/article')\r\n            }, 1500)\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('获取文章详情失败:', error)\r\n        let errorMsg = '获取文章详情失败'\r\n        \r\n        if (error.response) {\r\n          switch (error.response.status) {\r\n            case 403:\r\n              errorMsg = '您无权查看该文章'\r\n              break\r\n            case 404:\r\n              errorMsg = '请求的资源不存在'\r\n              break\r\n            default:\r\n              errorMsg = `获取文章详情失败: ${error.message || '未知错误'}`\r\n          }\r\n        } else if (error.message) {\r\n          errorMsg = `获取文章详情失败: ${error.message}`\r\n        }\r\n        \r\n        this.$message.error(errorMsg)\r\n        setTimeout(() => {\r\n          this.$router.push('/article')\r\n        }, 1500)\r\n      }\r\n    },\r\n    \r\n    // 增加文章浏览量\r\n    async incrementViewCount() {\r\n      try {\r\n        // 这里可以添加增加浏览量的API调用\r\n        // 暂时不实现，因为后端可能已经在获取文章详情时自动增加了浏览量\r\n      } catch (error) {\r\n        console.error('增加浏览量失败:', error)\r\n      }\r\n    },\r\n    \r\n    // 检查当前用户是否已点赞该文章\r\n    async checkLikeStatus() {\r\n      if (!this.article.id) {\r\n        return\r\n      }\r\n      \r\n      // 检查是否有token\r\n      const token = localStorage.getItem('token')\r\n      if (!token) {\r\n        console.log('用户未登录，无法检查点赞状态')\r\n        this.isLiked = false\r\n        return\r\n      }\r\n      \r\n      try {\r\n        const response = await api.article.checkLikeStatus(this.article.id)\r\n        if (response.code === 200) {\r\n          this.isLiked = response.data\r\n          console.log('点赞状态:', this.isLiked ? '已点赞' : '未点赞')\r\n        }\r\n      } catch (error) {\r\n        console.error('检查点赞状态失败:', error)\r\n        // 错误不影响用户体验，只记录日志\r\n        this.isLiked = false\r\n      }\r\n    },\r\n    \r\n    // 点赞或取消点赞\r\n    async toggleLike() {\r\n      // 检查是否有token\r\n      const token = localStorage.getItem('token')\r\n      if (!token) {\r\n        this.$message.warning('请先登录')\r\n        // 保存当前页面URL，登录后可以返回\r\n        localStorage.setItem('redirectUrl', this.$route.fullPath)\r\n        // 跳转到登录页\r\n        this.$router.push('/login')\r\n        return\r\n      }\r\n      \r\n      try {\r\n        this.liking = true\r\n        \r\n        // 确保token已设置到store中\r\n        if (!this.$store.getters.token) {\r\n          this.$store.commit('SET_TOKEN', token)\r\n        }\r\n        \r\n        // 尝试获取用户信息（如果还没有）\r\n        if (!this.currentUserId) {\r\n          // 尝试从store获取用户信息\r\n          const storeUser = this.$store.getters.user\r\n          if (storeUser && storeUser.id) {\r\n            this.currentUserId = storeUser.id\r\n            this.isAdmin = storeUser.role === 0\r\n          } else {\r\n            // 尝试从API获取用户信息\r\n            try {\r\n              await this.$store.dispatch('getUserInfo')\r\n              const updatedUser = this.$store.getters.user\r\n              if (updatedUser) {\r\n                this.currentUserId = updatedUser.id\r\n                this.isAdmin = updatedUser.role === 0\r\n              } else {\r\n                throw new Error('无法获取用户信息')\r\n              }\r\n            } catch (userError) {\r\n              console.error('获取用户信息失败:', userError)\r\n              this.$message.error('登录状态异常，请重新登录')\r\n              this.$store.dispatch('logout')\r\n              localStorage.setItem('redirectUrl', this.$route.fullPath)\r\n              this.$router.push('/login')\r\n              return\r\n            }\r\n          }\r\n        }\r\n        \r\n        // 执行点赞操作\r\n        const response = await api.article.like(this.article.id)\r\n        \r\n        if (response.code === 200) {\r\n          // 切换点赞状态\r\n          this.isLiked = !this.isLiked\r\n          \r\n          // 更新点赞数\r\n          if (this.isLiked) {\r\n            this.article.likeCount++\r\n            this.$message.success('点赞成功')\r\n          } else {\r\n            if (this.article.likeCount > 0) {\r\n              this.article.likeCount--\r\n            }\r\n            this.$message.success('已取消点赞')\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('点赞操作失败:', error)\r\n        if (error.response) {\r\n          if (error.response.status === 401 || error.response.status === 403) {\r\n            this.$message.error('登录已过期，请重新登录')\r\n            // 清除token并重定向到登录页\r\n            this.$store.dispatch('logout')\r\n            localStorage.setItem('redirectUrl', this.$route.fullPath)\r\n            this.$router.push('/login')\r\n          } else {\r\n            this.$message.error('操作失败: ' + (error.message || '未知错误'))\r\n          }\r\n        } else {\r\n          this.$message.error('操作失败: ' + (error.message || '网络错误'))\r\n        }\r\n      } finally {\r\n        this.liking = false\r\n      }\r\n    },\r\n    \r\n    // 获取文章状态文本\r\n    getStatusText(status) {\r\n      switch (status) {\r\n        case 0: return '草稿';\r\n        case 1: return '已发布';\r\n        case 2: return '待审核';\r\n        case 3: return '审核不通过';\r\n        default: return '未知状态';\r\n      }\r\n    },\r\n    \r\n    // 获取文章状态样式类\r\n    getStatusClass(status) {\r\n      switch (status) {\r\n        case 0: return 'status-draft';\r\n        case 1: return 'status-published';\r\n        case 2: return 'status-pending';\r\n        case 3: return 'status-rejected';\r\n        default: return '';\r\n      }\r\n    },\r\n    \r\n    // 审核通过文章\r\n    async approveArticle() {\r\n      try {\r\n        const response = await api.article.approve(this.article.id)\r\n        if (response.code === 200) {\r\n          this.$message.success('审核通过成功')\r\n          this.article.status = 1 // 更新状态为已发布\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('审核操作失败: ' + (error.message || '未知错误'))\r\n      }\r\n    },\r\n    \r\n    // 审核拒绝文章\r\n    async rejectArticle() {\r\n      try {\r\n        const response = await api.article.reject(this.article.id)\r\n        if (response.code === 200) {\r\n          this.$message.success('审核拒绝成功')\r\n          this.article.status = 3 // 更新状态为审核不通过\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('审核操作失败: ' + (error.message || '未知错误'))\r\n      }\r\n    },\r\n    \r\n    // 编辑文章\r\n    editArticle() {\r\n      this.$router.push(`/write?id=${this.article.id}`)\r\n    },\r\n    \r\n    // 更新评论计数\r\n    updateCommentCount(count) {\r\n      this.commentCount = count\r\n      // 同时更新文章对象中的评论数\r\n      this.article.commentCount = count\r\n    },\r\n    \r\n    // 格式化日期\r\n    formatDate(dateString) {\r\n      if (!dateString) return '';\r\n      const date = new Date(dateString);\r\n      return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.article-detail-container {\r\n  padding: 20px;\r\n  max-width: 1000px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.article-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.header h1 {\r\n  margin: 0 0 10px 0;\r\n  color: #333;\r\n}\r\n\r\n.article-meta {\r\n  display: flex;\r\n  gap: 20px;\r\n  color: #666;\r\n  font-size: 14px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.status {\r\n  padding: 2px 8px;\r\n  border-radius: 4px;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-draft {\r\n  background-color: #e6e6e6;\r\n  color: #666;\r\n}\r\n\r\n.status-published {\r\n  background-color: #67C23A;\r\n  color: white;\r\n}\r\n\r\n.status-pending {\r\n  background-color: #E6A23C;\r\n  color: white;\r\n}\r\n\r\n.status-rejected {\r\n  background-color: #F56C6C;\r\n  color: white;\r\n}\r\n\r\n.admin-actions, .author-actions {\r\n  margin-top: 10px;\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.article-content {\r\n  line-height: 1.8;\r\n  font-size: 16px;\r\n}\r\n\r\n.article-content >>> img {\r\n  max-width: 100%;\r\n  height: auto;\r\n}\r\n\r\n.article-footer {\r\n  margin-top: 30px;\r\n  padding-top: 20px;\r\n  border-top: 1px solid #eee;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.tags {\r\n  display: flex;\r\n  gap: 8px;\r\n}\r\n\r\n.comments-card {\r\n  margin-top: 30px;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n}\r\n\r\n.comments-card >>> .el-card__header {\r\n  background: linear-gradient(135deg, #f6f9fc 0%, #eef1f5 100%);\r\n  padding: 15px 20px;\r\n}\r\n\r\n.comments-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.comments-title {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.comments-title i {\r\n  color: #409EFF;\r\n  font-size: 18px;\r\n}\r\n\r\n.comments-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  color: #909399;\r\n  font-size: 13px;\r\n}\r\n\r\n.comments-info i {\r\n  color: #E6A23C;\r\n  cursor: pointer;\r\n}\r\n\r\n.comments-card >>> .el-card__body {\r\n  padding: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArticleDetail.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ArticleDetail.vue?vue&type=template&id=f793be08&scoped=true\"\nimport script from \"./ArticleDetail.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleDetail.vue?vue&type=script&lang=js\"\nimport style0 from \"./ArticleDetail.vue?vue&type=style&index=0&id=f793be08&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f793be08\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","_s","article","title","authorName","formatDate","createTime","viewCount","likeCount","class","getStatusClass","status","getStatusText","isAdmin","on","approveArticle","rejectArticle","_e","isAuthor","editArticle","domProps","content","isLiked","liking","toggleLike","tags","length","_l","tag","key","id","color","name","commentCount","updateCommentCount","staticRenderFns","isAuthenticated","user","avatar","defaultAvatar","nickname","model","value","newComment","callback","$$v","expression","toggleEmojiPanel","directives","rawName","showEmojiPicker","emojiCategories","category","index","active","currentEmojiCategory","$event","icon","currentCategoryEmojis","emoji","insertEmoji","submitting","submitComment","goToLogin","comments","comment","formatTime","toggleReplyInput","replyCount","replyingTo","concat","replyContent","toggleReplyEmojiPanel","showReplyEmojiPicker","insertReplyEmoji","cancelReply","replySubmitting","submitReply","children","child","replyToNickname","replyToChild","focusCommentInput","pagination","total","size","current","handleSizeChange","handleCurrentChange","props","articleId","type","String","Number","required","data","emojis","computed","_objectSpread","mapGetters","watch","immediate","handler","getComments","methods","_this","$nextTick","textarea","$el","querySelector","focus","_this2","closePanel","e","contains","target","document","removeEventListener","setTimeout","addEventListener","_this3","emojiPicker","_this4","_asyncToGenerator","_regenerator","m","_callee","params","response","_t","w","_context","p","n","api","getByArticle","v","code","records","filter","level","parentId","map","replyToUser","$emit","console","error","a","_this5","_callee2","commentData","_t2","_context2","trim","$message","warning","add","success","f","commentId","parentComment","_this6","_callee3","replyData","_t3","_context3","toUserId","userId","childComment","$router","push","timeString","date","Date","now","diff","Math","floor","getFullYear","getMonth","padStart","getDate","component","components","CommentSection","currentUserId","created","getUserInfo","getArticleDetail","newVal","checkLikeStatus","userInfo","storeUser","$store","getters","log","getInfo","role","errorMsg","$route","getDetail","incrementViewCount","message","_callee4","token","_t4","_context4","localStorage","getItem","_callee5","updatedUser","_t5","_t6","_context5","setItem","fullPath","commit","dispatch","Error","like","_callee6","_t7","_context6","approve","_callee7","_t8","_context7","reject","count","dateString"],"sourceRoot":""}